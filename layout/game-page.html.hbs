<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>{{title}}</title>
	<link rel="stylesheet" href="/css/main.css">
</head>
<body class="game-page">
		<!--[if lt IE 7]>
		<p class="chromeframe">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> or <a href="http://www.google.com/chromeframe/?redirect=true">activate Google Chrome Frame</a> to improve your experience.</p>
		<![endif]-->
		<div class="topNav row">
			<div class="col-sm-6">
				<a href="/"><h1 class="logo small">Two Scoop Games</h1></a>
			</div>
			<div class="col-sm-6 hide-on-mobile">
				<span class="shareTitle">Share this game:</span>
				<ul class="share">
					<li>
						<a data-site="facebook" href="https://www.facebook.com/sharer/sharer.php?u={{shareUrl}}" target="_blank">
							<i class="fa fa-facebook"></i>
						</a>
					</li>
					<li>
						<a data-site="twitter" href="http://twitter.com/home?status={{shareMessage}} {{shareUrl}} @TwoScoopGames" target="_blank">
							<i class="fa fa-twitter"></i>
						</a>
					</li>
				</ul>
			</div>
		</div>

		<div class="gamePage">
			{{> body}}

			<div class="subscribe row">
			</div><!-- subscribe row -->
		</div>

		{{> footer}}

		<script src="/js/vendor/jquery-3.2.1.min.js"></script>
		<script src="/js/vendor/jquery.fitvids.js"></script>
		<script src="/js/vendor/jquery.flexslider-min.js"></script>
		<script src="/js/main.js"></script>
		{{> google-analytics}}
		<script>
		$(document).ready(function() {
			$('#carousel').flexslider({
				animation: "slide",
				controlNav: false,
				directionNav: true,
				animationLoop: false,
				slideshow: false,
				itemWidth: 250,
				itemMargin: 5,
				nextText: " ",
				prevText: " ",
				touch: true,
				asNavFor: '#slider'
			});

			$('#slider').flexslider({
				animation: "slide",
				directionNav: true,
				controlNav: true,
				animationLoop: false,
				slideshow: false,
				nextText: " ",
				prevText: " ",
				touch: true,
				sync: "#carousel"
			});


			$(".fitvids").fitVids();
		});

		var quotes = makeQuotesArray($('.quote'));
		var filtered = fisherYates(quotes, 8);

		numberQuotes($('.quote'));
		showQuotes(filtered);

		function numberQuotes(elements) {
			var i = 0;
			elements.each(function() {
				$(this).attr("id", "quote"+ i);
				i++;
			});
		}

		function makeQuotesArray(elements) {
			var array = [];
			for (var i = 0; i < elements.length; i++) {
				array.push(i);
			};
			return array;
		}

		function fisherYates(myArray, nb_picks) {
			for (i = myArray.length - 1; i > 1  ; i--) {
				var r = Math.floor(Math.random() * i);
				var t = myArray[i];
				myArray[i] = myArray[r];
				myArray[r] = t;
			}
			return myArray.slice(0, nb_picks);
		}

		function showQuotes(array) {
			for (var i = 0; i < array.length; i++) {
				$('#quote'+array[i]).show();
			}
		}
		</script>
	</body>
</html>
